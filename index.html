<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Writing Practice – Variant 1</title>
    <style>
        * { margin:0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 4px solid #2196f3;
        }
        h1 { color: #2196f3; font-size: 34px; }
        .score { font-size: 24px; font-weight: bold; color: #4caf50; }
        .exercise {
            background: #f8fdff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid #ddd;
        }
        .ex-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items:center;
            gap: 12px;
        }
        .num {
            width: 40px;
            height: 40px;
            background: #2196f3;
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }
        .letter-input {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            border: 2px solid #2196f3;
            border-radius: 8px;
            margin: 0 4px;
            text-transform: lowercase;
        }
        .letter-input.correct { border-color: #4caf50; background: #e8f5e9; }
        .letter-input.incorrect { border-color: #f44336; background: #ffebee; }
        .text-in {
            width: 100%;
            padding: 10px;
            border: 2px solid #999;
            border-radius: 6px;
            font-size: 17px;
        }
        .text-in.correct { border-color: #4caf50; background: #e8f5e9; }
        .text-in.incorrect { border-color: #f44336; background: #ffebee; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        td { padding: 12px; border-bottom: 1px solid #ddd; }
        td:first-child { font-weight: bold; width: 30%; }
        .note {
            background: #f9f9ff;
            padding: 20px;
            border-radius: 10px;
            line-height: 2.2;
            font-size: 18px;
        }
        .gap { display: inline-block; width: 130px; border-bottom: 3px solid #9c27b0; margin: 0 8px; text-align: center; font-size: 18px; }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 17px;
        }
        .grid div { background: #fff; padding: 10px; border-radius: 8px; border: 2px solid #ff9800; }
        .grid div:first-child { font-weight: bold; background: #fff3e0; }
        .check-btn, .reset-btn {
            padding: 15px 35px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
        }
        .check-btn { background: #2196f3; color: white; }
        .reset-btn { background: #757575; color: white; }
        .result {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            margin: 30px 0;
            padding: 20px;
            border-radius: 12px;
            display: none;
        }
        .result.good { background: #e8f5e9; color: #2e7d32; border: 3px solid #4caf50; }
        .result.bad { background: #ffebee; color: #c62828; border: 3px solid #f44336; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div>
            <h1>English Writing Practice</h1>
            <p style="color:#666;font-size:18px;">Variant 1</p>
        </div>
        <div class="score" id="score">0/10</div>
    </div>

    <!-- 1 Write the missing letters -->
    <div class="exercise">
        <div class="ex-title"><div class="num">1</div> Write the missing letters.</div>
        <table>
            <tr><td>1) New Y<input class="letter-input" data-ans="e"> <input class="letter-input" data-ans="a">r</td>
                <td>6) tradi<input class="letter-input" data-ans="t"> <input class="letter-input" data-ans="i">on</td></tr>
            <tr><td>2) b<input class="letter-input" data-ans="i"> <input class="letter-input" data-ans="r">thday</td>
                <td>7) sto<input class="letter-input" data-ans="c"> <input class="letter-input" data-ans="k">ing</td></tr>
            <tr><td>3) C<input class="letter-input" data-ans="h"> <input class="letter-input" data-ans="r">istmas</td>
                <td>8) ni<input class="letter-input" data-ans="g"> <input class="letter-input" data-ans="h">t</td></tr>
            <tr><td>4) E<input class="letter-input" data-ans="a"> <input class="letter-input" data-ans="s">ter</td>
                <td>9) g<input class="letter-input" data-ans="u"> <input class="letter-input" data-ans="e">sts</td></tr>
            <tr><td>5) fi<input class="letter-input" data-ans="r"> <input class="letter-input" data-ans="e">place</td><td></td></tr>
        </table>
    </div>

    <!-- 2 Lucy’s day + write about you -->
    <div class="exercise">
        <div class="ex-title"><div class="num">2</div> Use the table to make up sentences about Lucy’s day. Write similar sentences about you.</div>
        <table>
            <tr><td>Sunday</td><td>walk in the park</td></tr>
            <tr><td>Monday</td><td>do yoga</td></tr>
            <tr><td>Tuesday</td><td>read English books</td></tr>
            <tr><td>Wednesday</td><td>go/swimming pool</td></tr>
        </table>

        <p style="margin-top:25px;"><strong>Lucy</strong></p>
        <p>1) On Sundays Lucy <u>walks in the park</u>.</p>
        <p>2) On Mondays <input type="text" class="text-in" data-ans="lucy does yoga"></p>
        <p>3) On <input type="text" class="text-in" data-ans="tuesdays lucy reads english books"></p>
        <p>4) On Wednesdays <input type="text" class="text-in" data-ans="lucy goes to the swimming pool"></p>

        <p style="margin-top:30px;"><strong>You</strong></p>
        <p>1) I usually <input type="text" class="text-in" placeholder="your Sunday activity"></p>
        <p>2) I <input type="text" class="text-in" placeholder="your Monday activity"></p>
        <p>3) On Tuesdays I <input type="text" class="text-in" placeholder="your Tuesday activity"></p>
        <p>4) <input type="text" class="text-in" placeholder="your Wednesday activity"></p>
    </div>

    <!-- 3 Fill in the note -->
    <div class="exercise">
        <div class="ex-title"><div class="num">3</div> Read the note and write down missing words.</div>
        <div class="note">
            Mum, we <strong>are</strong> going on a picnic <input type="text" class="text-in" style="width:150px" data-ans="in"> the morning. We’ve<br>
            <input type="text" class="text-in" style="width:100px" data-ans="got"> 2 cartons of juice, 5 <input type="text" class="text-in" style="width:120px" data-ans="bottles"> of water and some fruit.<br>
            We also need <input type="text" class="text-in" style="width:100px" data-ans="some"> sandwiches, but we <input type="text" class="text-in" style="width:130px" data-ans="have"> not got<br>
            bread, cheese and tomatoes.<br>
            <input type="text" class="text-in" style="width:100px" data-ans="can"> you buy some, please?<br><br>
            Lucy
        </div>
    </div>

    <!-- 4 Look and write -->
    <div class="exercise">
        <div class="ex-title"><div class="num">4</div> Look and write. Use the words in the box.</div>
        <div class="grid">
            <div>Subject<br>The children<br>The boy</div>
            <div>Verb<br>to make<br>to hang<br>to give</div>
            <div>Object<br>decorations<br>stockings<br>flowers</div>
            <div>Occasion<br>New Year<br>St Nicholas Day<br>Mother’s Day</div>
        </div>

        <p style="margin:25px 0 15px;"><strong>Write 3 sentences about the pictures:</strong></p>
        <p>1) <input type="text" class="text-in" data-ans="the children make decorations for new year"></p>
        <p>2) <input type="text" class="text-in" data-ans="the children hang stockings for st nicholas day"></p>
        <p>3) <input type="text" class="text-in" data-ans="the boy gives flowers for mothers day"></p>
    </div>

    <button class="check-btn" onclick="checkAll()">Перевірити всі завдання</button>
    <button class="reset-btn" onclick="resetAll()">Очистити все</button>

    <div class="result" id="result"></div>
</div>

<script>
const answers = {
    letter: ["e","a","i","r","h","r","a","s","r","e","t","i","c","k","g","h","u","e"],
    ex2_lucy: ["lucy does yoga", "tuesdays lucy reads english books", "lucy goes to the swimming pool"],
    ex3: ["in", "got", "bottles", "some", "have", "can"],
    ex4: ["the children make decorations for new year", "the children hang stockings for st nicholas day", "the boy gives flowers for mothers day"]
};

let totalPoints = 0;
const maxPoints = 9 + 3 + 6 + 3; // 9×2 letters + 3 Lucy + 6 note + 3 sentences

function checkAll() {
    totalPoints = 0;
    document.querySelectorAll('.letter-input').forEach((el, i) => {
        const correct = answers.letter[i];
        if (el.value.trim().toLowerCase() === correct) ? (el.classList.add('correct'), el.classList.remove('incorrect'), totalPoints++) : el.classList.add('incorrect'), el.classList.remove('correct');
    });

    // Exercise 2 – Lucy
    let lucyCorrect = 0;
    document.querySelectorAll('.text-in[data-ans^="lucy"], .text-in[data-ans="tuesdays lucy reads english books"], .text-in[data-ans="lucy goes to the swimming pool"]').forEach((el, i) => {
        const user = el.value.trim().toLowerCase();
        const corr = answers.ex2_lucy[i];
        if (user.includes(corr) || corr.includes(user)) {
            el.classList.add('correct');
            el.classList.remove('incorrect');
            lucyCorrect++;
            totalPoints++;
        } else {
            el.classList.add('incorrect');
            el.classList.remove('correct');
        }
    });

    // Exercise 3
    document.querySelectorAll('.note .text-in').forEach((el, i) => {
        const user = el.value.trim().toLowerCase();
        const corr = answers.ex3[i];
        if (user === corr) {
            el.classList.add('correct');
            el.classList.remove('incorrect');
            totalPoints++;
        } else {
            el.classList.add('incorrect');
            el.classList.remove('correct');
        }
    });

    // Exercise 4
    document.querySelectorAll('.exercise:last-of-type .text-in').forEach((el, i) => {
        const user = el.value.trim().toLowerCase();
        const corr = answers.ex4[i];
        // приймаємо кілька варіантів формулювань
        if (user.includes('children') && user.includes('make') && user.includes('decorations') && user.includes('new year') && i===0 ||
            user.includes('children') && user.includes('hang') && user.includes('stockings') && (user.includes('st nicholas') || user.includes('saint nicholas')) && i===1 ||
            user.includes('boy') && user.includes('give') && user.includes('flowers') && user.includes('mother') && i===2) {
            el.classList.add('correct');
            el.classList.remove('incorrect');
            totalPoints++;
        } else {
            el.classList.add('incorrect');
            el.classList.remove('correct');
        }
    });

    const percent = Math.round(totalPoints / maxPoints * 10);
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    resultDiv.textContent = `Ваша оцінка: \( {percent}/10 балів ( \){totalPoints} з ${maxPoints} правильних відповідей)`;
    resultDiv.className = 'result ' + (percent >= 7 ? 'good' : 'bad');
    document.getElementById('score').textContent = `${percent}/10`;
}

function resetAll() {
    if (confirm('Скинути всі відповіді?')) {
        document.querySelectorAll('input').forEach(i => {
            i.value = '';
            i.classList.remove('correct', 'incorrect');
        });
        document.getElementById('result').style.display = 'none';
        document.getElementById('score').textContent = '0/10';
        totalPoints = 0;
    }
}

// Автофокус для букв
document.querySelectorAll('.letter-input').forEach((inp, idx, arr) => {
    inp.addEventListener('input', () => {
        inp.value = inp.value.toLowerCase();
        if (inp.value && idx < arr.length-1) arr[idx+1].focus();
    });
    inp.addEventListener('keydown', e => {
        if (e.key === 'Backspace' && !inp.value && idx > 0) arr[idx-1].focus();
    });
});
</script>
</body>
</html>
